<!DOCTYPE html>
<html>
<head>
<title> Online Toolstore</title>

</head>

<body>
<header>
<h1> Hi enjoy the tools! </h1>
<nav>
<li><a href = "Toolstore.html" > Homepage</a></li>
<li><a href = "products/hammer.html" > Hammers</a></li>
<li><a href = "products/pliers.html" > Pliers</a></li>
<li><a href = "products/screwdriver.html" > Screwdrivers</a></li>
<li><a href = "products/wrench.html" > Wrenches</a></li>
</nav>
</header>

<main>
  <h2>Tools</h2>  
<table id = "tools">
<thead>
<tr>
<th>Tool </th>
<th>Price</th>
<th>Quanitity</th>
<th>Total</th>
</tr>
</thead>
><tbody></tbody>
</table>

<form id ="Orders">
<label for = "tool">Choose a tool: </label>
<select id = "tool" name = "tool">
<option value="tool1"> Tool 1 </option>
<option value="tool2"> Tool 2 </option>
<option value="tool3"> Tool 3 </option>
<option value="tool4"> Tool 4 </option>
</select>
<label for = "Quanitity" > Enter Quantity: </label>
<input type="number" id="quantity" name="quantity" min="1" value="1">
<button type = "submit"> Add to bag</button>
</form>
<p id = "total-price"></p>
</main>
<script>
fetch('https://raw.githubusercontent.com/gavinsupek/CloudComputing/main/Final Assignment/tooldata.json')
          .then(response => response.json())
          .then(data => processData(data));

        function processData(data){
          var obj = data;
        
     

          quantitys = [3,4,5,6]

          text = "<tr><th>Product Name</th><th>Price</th><th>Quantity</th><th>Total</th></tr>";


          for (let i = 0; i < obj.length; i++) {
            text = text + "<tr>"
            

            
            if (obj[i].price > 0){
              price = obj[i].price
            }else{
              price = 0
            }

            if (quantitys[i] > 0){
              quantity = quantitys[i]
            }else{
              quantity = 0
            }

            total = price * quantity

            text = text + "<td>" + "<img height=50px width=50px src= 'products/imgs/" + obj[i].thumbnailUrl + "'>" + "</td>"
            text = text + "<td>" + "<a href= 'products/" + obj[i].url + "'>" + obj[i].product_name + "</a>" + "</td>" 
            text = text + "<td>" + price + "</td>"
            text = text + "<td>" + quantity + "</td>"
            text = text + "<td>" + total.toPrecision(4) + "</td>"
            text = text + "<td>" + obj[i].description + "</td>"
            
            text = text + "</tr>"

            console.log(text)
          }

          document.getElementById("totals").innerHTML = text
        
        }
        </script>
</body>
</html>